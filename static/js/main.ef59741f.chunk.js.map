{"version":3,"sources":["static/logo.png","css/Header.less","css/DropDownMenu.less","css/Form.less","css/Video.less","i18n/i18n.js","component/DropDownMenu.js","component/Header.js","component/Footer.js","store/VideoStore.js","component/Form.js","component/Video.js","component/VideoList.js","component/App.js","serviceWorker.js","index.js"],"names":["module","exports","i18n","locale","zh_tw","en_us","LocaleContext","React","createContext","DropDownMenu","props","state","showDropDown","inputId","name","dropDownId","bind","filter","hideDropDown","highlightItem","populateInput","resizeInput","onKeyDown","this","setState","e","target","classList","add","document","querySelectorAll","remove","input","getElementById","value","innerText","length","callback","id","blur","size","toLowerCase","filteredOptions","Object","keys","options","forEach","key","includes","preventDefault","selected","dropDownOptions","getElementsByTagName","dropDownFirstOption","dropDownLastOption","selectedIsLi","tagName","keyCode","previousSibling","unHighlightItem","nextSibling","dropDownMenu","className","map","onMouseOver","onMouseLeave","onMouseDown","autoComplete","onFocus","onChange","onBlur","Component","Header","context","language","Consumer","updateLocale","src","logo","alt","header","getLanguageDropDownProps","contextType","Footer","videoList","observable","box","isLoading","Form","handleSubmit","updateCountry","updateCategory","window","gapi","load","client","init","apiKey","scope","defaultCountryCode","getQueryParam","defaultCategoryCode","getYoutubeVideos","country","code","category","param","defaultValue","result","URLSearchParams","history","location","search","get","youtubePromise","request","path","response","responseResult","pageInfo","totalResults","updateErrorType","sortedVideos","items","sort","a","b","parseInt","statistics","viewCount","set","setPreviousState","errorBody","JSON","parse","body","console","log","push","previousCategory","previousCountry","stringify","errorType","message","countryCode","categoryCode","Fragment","onSubmit","getCategoryDropDownProps","form","from","getCountryDropDownProps","withRouter","Video","openVideoInWindow","addMouseOverClass","removeBorder","open","videoLink","selectedVideo","publishedAt","video","uploadedBy","title","likeCount","thumbnail","rank","channelTitle","channelLink","duration","views","likes","href","getUploadInfo","VideoList","observer","count","digit","i","date","Date","today","diff","UTC","getFullYear","getMonth","getDate","getHours","Math","round","lessThanOneHourAgo","hoursAgo","dayAgo","daysAgo","tmp","ind","substring","split","reverse","join","thumbnailUrl","default","url","maxres","high","standard","medium","index","videoProps","snippet","trim","addCommmaToDigit","convertDateToDaysAgo","pickThumbnail","thumbnails","channelId","convertDuration","contentDetails","App","createBrowserHistory","localeCode","Provider","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ef59741f.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Header.1087e6f7.less\";","module.exports = __webpack_public_path__ + \"static/media/DropDownMenu.1d2bec68.less\";","module.exports = __webpack_public_path__ + \"static/media/Form.c9d5c469.less\";","module.exports = __webpack_public_path__ + \"static/media/Video.d55b97c6.less\";","import zh_tw from './src/zh_tw'\nimport en_us from './src/en_us'\nimport React from 'react'\n\nexport function i18n (locale) {\n  if (locale === 'zh_tw') {\n    return zh_tw\n  }\n  return en_us\n}\n\nexport const LocaleContext = React.createContext('en_us')","import React from 'react'\nimport '../css/DropDownMenu.less'\nimport PropTypes from 'prop-types'\n\nclass DropDownMenu extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = { showDropDown: false }\n    this.inputId = this.props.name + '-input'\n    this.dropDownId = this.props.name + '-dropdown'\n    this.showDropDown = this.showDropDown.bind(this)\n    this.filter = this.filter.bind(this)\n    this.hideDropDown = this.hideDropDown.bind(this)\n    this.highlightItem = this.highlightItem.bind(this)\n    this.populateInput = this.populateInput.bind(this)\n    this.resizeInput = this.resizeInput.bind(this)\n    this.onKeyDown = this.onKeyDown.bind(this)\n  }\n\n  showDropDown () {\n    this.setState({ showDropDown: true })\n  }\n\n  hideDropDown () {\n    this.setState({ showDropDown: false })\n  }\n\n  highlightItem (e) {\n    if (e.target) {\n      e.target.classList.add('selected')\n    } else {\n      e.classList.add('selected')\n    }\n  }\n\n  unHighlightItem (e) {\n    if (e.target) {\n      document.querySelectorAll('li.selected')[0].classList.remove('selected')\n    } else {\n      e.classList.remove('selected')\n    }\n  }\n\n  populateInput (e) {\n    const target = e.target ? e.target : e\n    const input = document.getElementById(this.inputId)\n    input.value = target.innerText\n    this.resizeInput(target.innerText.length)\n    this.props.callback(target.id)\n    this.hideDropDown()\n    input.blur()\n  }\n\n  resizeInput (size) {\n    document.getElementById(this.inputId).size = size\n  }\n\n  filter () {\n    const input = document.getElementById(this.inputId).value.toLowerCase()\n    const filteredOptions = {}\n\n    this.resizeInput(input.length)\n\n    Object.keys(this.props.options).forEach((key) => {\n      if (key.toLowerCase().includes(input)) {\n        filteredOptions[key] = this.props.options[key]\n      }\n    })\n\n    this.setState({ options: filteredOptions })\n  }\n\n  onKeyDown (e) {\n    e.preventDefault()\n    const selected = document.querySelectorAll('li.selected')[0] || document.getElementById(this.inputId)\n    const dropDownOptions = document.getElementById(this.dropDownId).getElementsByTagName('li')\n    const dropDownFirstOption = dropDownOptions[0]\n    const dropDownLastOption = dropDownOptions[Object.keys(this.props.options).length - 1]\n    const selectedIsLi = selected.tagName === 'LI'\n    if (e.keyCode === 38) {\n      if (selectedIsLi && selected.previousSibling) {\n        this.highlightItem(selected.previousSibling)\n        this.unHighlightItem(selected)\n      } else {\n        this.highlightItem(dropDownLastOption)\n        this.unHighlightItem(selected)\n      }\n    } else if (e.keyCode === 40) {\n      if (selectedIsLi && selected.nextSibling) {\n        this.highlightItem(selected.nextSibling)\n        this.unHighlightItem(selected)\n      } else {\n        this.highlightItem(dropDownFirstOption)\n        this.unHighlightItem(selected)\n      }\n    } else if (e.keyCode === 13) {\n      this.populateInput(selected)\n    }\n  }\n\n  render () {\n    let dropDownMenu\n\n    if (this.state.showDropDown) {\n      dropDownMenu = <div id={this.dropDownId} className=\"dropDownMenu\">\n        {Object.keys(this.props.options).map((key) => {\n          return <li onMouseOver={this.highlightItem}\n            onMouseLeave={this.unHighlightItem}\n            onMouseDown={this.populateInput}\n            id={key}\n            key={key}>\n            {this.props.options[key]}\n          </li>\n        })}\n      </div>\n    }\n    return (\n      <div className=\"dropDown\">\n        <input id={this.inputId}\n          className=\"dropDownInput\"\n          autoComplete=\"off\"\n          value={this.props.value}\n          // size={this.props.placeholder.length}\n          onKeyDown={this.onKeyDown}\n          onFocus={this.showDropDown}\n          onChange={this.filter}\n          onBlur={this.hideDropDown}\n        />\n        {dropDownMenu}\n      </div>\n    )\n  }\n}\n\nDropDownMenu.propTypes = {\n  value: PropTypes.string,\n  options: PropTypes.object,\n  callback: PropTypes.func,\n  name: PropTypes.string\n}\n\nexport default DropDownMenu\n","import React from 'react'\nimport '../css/Header.less'\nimport logo from '../static/logo.png'\nimport { i18n, LocaleContext } from '../i18n/i18n'\nimport DropDownMenu from './DropDownMenu'\n\nclass Header extends React.Component {\n\n  getLanguageDropDownProps () {\n    return {\n      name: 'languageDropDownMenu',\n      options: i18n(this.context.locale).dropDownOptions.language,\n      value: i18n(this.context.locale).dropDownOptions.language[this.context.locale]\n    }\n  }\n\n  render () {\n    return (\n      <LocaleContext.Consumer>\n        {({ locale, updateLocale }) => (\n          <header className=\"Header\">\n            <div className=\"logo\">\n              <img className=\"logoImage\" src={logo} alt=\"logo\" />\n            </div>\n            <div className=\"titleBlock\">\n              <h6>{i18n(this.context.locale).header}</h6>\n            </div>\n            <div className=\"languageDropDown\">\n              <DropDownMenu {...this.getLanguageDropDownProps()} callback={updateLocale}/>\n            </div>\n          </header>\n        )}\n      </LocaleContext.Consumer>\n    )\n  }\n}\n\nHeader.contextType = LocaleContext\n\nexport default Header\n","import React from 'react'\nimport '../css/Footer.css'\n\nclass Footer extends React.Component {\n  render () {\n    return (\n      <footer className=\"Footer\">\n      </footer>\n    )\n  }\n}\n\nexport default Footer\n","import { observable } from 'mobx'\n\nexport var videoList = observable.box([])\nexport var isLoading = observable.box(false)\n","import React from 'react'\nimport DropDownMenu from './DropDownMenu'\nimport '../css/Form.less'\nimport { videoList, isLoading } from '../store/VideoStore'\nimport { i18n, LocaleContext } from '../i18n/i18n'\nimport { withRouter } from 'react-router-dom'\n\nclass Form extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = ({ })\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.updateCountry = this.updateCountry.bind(this)\n    this.updateCategory = this.updateCategory.bind(this)\n  }\n\n  componentDidMount () {\n    window.gapi.load('client', () => {\n      window.gapi.client.init({\n        apiKey: 'AIzaSyAwScTDl_Kw0Vgo1BzbkI8ZYnNniVD_xDU',\n        scope: 'profile'\n      })\n      const defaultCountryCode = this.getQueryParam('country', 'US')\n      const defaultCategoryCode = this.getQueryParam('category', '0')\n      this.getYoutubeVideos(\n        { value: i18n(this.context.locale).dropDownOptions.country[defaultCountryCode], code: defaultCountryCode },\n        { value: i18n(this.context.locale).dropDownOptions.category[defaultCategoryCode], code: defaultCategoryCode }\n      )\n    })\n  }\n\n  getQueryParam (param, defaultValue) {\n    const result = new URLSearchParams(this.props.history.location.search).get(param)\n    return result === null ? defaultValue : result\n  }\n\n  async getYoutubeVideos (country, category) {\n    try {\n      const youtubePromise = window.gapi.client.request({\n        path: `https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&chart=mostPopular&maxResults=20&regionCode=${country.code}&videoCategoryId=${category.code}&key=AIzaSyAwScTDl_Kw0Vgo1BzbkI8ZYnNniVD_xDU&hl=${this.context.locale}`\n      })\n      const response = await youtubePromise\n      const responseResult = response.result\n      if (responseResult && responseResult.pageInfo && responseResult.pageInfo.totalResults === 0) {\n        this.updateErrorType('noVideo')\n      } else {\n        const sortedVideos = responseResult.items.sort((a, b) => (parseInt(a.statistics.viewCount) < parseInt(b.statistics.viewCount)) ? 1 : -1)\n        videoList.set(sortedVideos)\n        this.setPreviousState(country, category)\n      }\n    } catch (error) {\n      const errorBody = JSON.parse(error.body)\n      console.log(errorBody)\n      this.updateErrorType('noCategory')\n    } finally {\n      isLoading.set(false)\n      this.setState({ country: country, category: category })\n      this.props.history.push(`?category=${this.state.category.code}&country=${this.state.country.code}`)\n    }\n  }\n\n  setPreviousState (country, category) {\n    this.setState({ previousCategory: category, previousCountry: country })\n  }\n\n  handleSubmit (country, category) {\n    if (JSON.stringify(country) === JSON.stringify(this.state.previousCountry) &&\n        JSON.stringify(category) === JSON.stringify(this.state.previousCategory) &&\n        this.state.errorType !== null\n    ) {\n      this.updateErrorType(null)\n      this.setState({ country: country, category: category })\n      return\n    }\n    // event.preventDefault()\n    isLoading.set(true)\n    this.updateErrorType(null)\n    this.getYoutubeVideos(country, category)\n  }\n\n  updateErrorType (message) {\n    this.setState({ errorType: message })\n  }\n\n  updateCountry (countryCode) {\n    this.handleSubmit({ value: i18n(this.context.locale).dropDownOptions.country[countryCode], code: countryCode }, this.state.category)\n  }\n\n  updateCategory (categoryCode) {\n    this.handleSubmit(this.state.country, { value: i18n(this.context.locale).dropDownOptions.category[categoryCode], code: categoryCode })\n  }\n\n  getCategoryDropDownProps () {\n    return {\n      name: 'categoryDropDownMenu',\n      options: i18n(this.context.locale).dropDownOptions.category,\n      value: (this.state.category && i18n(this.context.locale).dropDownOptions.category[this.state.category.code]) || null,\n      callback: this.updateCategory\n    }\n  }\n\n  getCountryDropDownProps () {\n    return {\n      name: 'countryDropDownMenu',\n      options: i18n(this.context.locale).dropDownOptions.country,\n      value: (this.state.country && i18n(this.context.locale).dropDownOptions.country[this.state.country.code]) || null,\n      callback: this.updateCountry\n    }\n  }\n\n  render () {\n    return (\n      <React.Fragment>\n        <form className=\"Form\" onSubmit={this.handleSubmit}>\n          <b>\n            <DropDownMenu {...this.getCategoryDropDownProps()}/>\n            &nbsp; {i18n(this.context.locale).form.from} &nbsp;\n            <DropDownMenu {...this.getCountryDropDownProps()}/>\n          </b>\n          <br/>\n        </form>\n        {this.state.errorType &&\n          <div className=\"ErrorMessage\">\n            <p className=\"ErrorMessageText\">{i18n(this.context.locale).form.errorType[this.state.errorType]}</p>\n          </div>\n        }\n      </React.Fragment>\n    )\n  }\n}\n\nForm.contextType = LocaleContext\n\nexport default withRouter(Form)\n","import React from 'react'\nimport '../css/Video.less'\nimport PropTypes from 'prop-types'\nimport { i18n, LocaleContext } from '../i18n/i18n'\n\nclass Video extends React.Component {\n  constructor (props) {\n    super(props)\n    this.openVideoInWindow = this.openVideoInWindow.bind(this)\n    this.addMouseOverClass = this.addMouseOverClass.bind(this)\n    this.removeBorder = this.removeBorder.bind(this)\n  }\n\n  openVideoInWindow () {\n    window.open(this.props.videoLink)\n  }\n\n  addMouseOverClass (e) {\n    if (e.target.className === 'Video') {\n      e.target.classList.add('selected')\n    }\n  }\n\n  removeBorder (e) {\n    var selectedVideo = document.querySelectorAll('div.Video.selected')[0]\n    if (selectedVideo) {\n      selectedVideo.classList.remove('selected')\n    }\n  }\n\n  getUploadInfo () {\n    if (this.context.locale === 'zh_tw') {\n      return this.props.publishedAt + i18n(this.context.locale).video.uploadedBy\n    }\n    return i18n(this.context.locale).video.uploadedBy + this.props.publishedAt\n  }\n\n  render () {\n    const { title, viewCount, likeCount, thumbnail, rank, channelTitle, channelLink, duration } = this.props\n    return (\n      <div className=\"Video\" onMouseDown={this.openVideoInWindow} onMouseOver={this.addMouseOverClass} onMouseLeave={this.removeBorder}>\n        <div className=\"Rank\" id=\"DesktopRank\">\n          <h2>{rank}</h2>\n        </div>\n        <div className=\"Info\">\n          <div className=\"Title\">\n            <div className=\"Rank\" id=\"MobileRank\">\n              <h2>{rank}</h2>\n            </div>\n            <div className=\"TitleText\">\n              <h3>{title}</h3>\n            </div>\n          </div>\n          <div className=\"ThumbnailAndStats\">\n            <div className=\"ThumbnailAndDuration\">\n              <div className=\"ThumbnailBlock\">\n                <img className=\"Thumbnail\" src={thumbnail} alt=\"Cover Image\"/>\n              </div>\n              <div className=\"Duration\">\n                <p>&nbsp;{duration}&nbsp;</p>\n              </div>\n            </div>\n            <div className=\"Stats\">\n              <p>{viewCount} {i18n(this.context.locale).video.views}</p>\n              <p>{likeCount} {i18n(this.context.locale).video.likes}</p>\n              <p><a href={channelLink}>{channelTitle}</a> {this.getUploadInfo()}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nVideo.contextType = LocaleContext\n\nVideo.propTypes = {\n  title: PropTypes.string,\n  viewCount: PropTypes.string,\n  likeCount: PropTypes.string,\n  publishedAt: PropTypes.string,\n  thumbnail: PropTypes.string,\n  rank: PropTypes.number,\n  channelTitle: PropTypes.string,\n  channelLink: PropTypes.string,\n  videoLink: PropTypes.string,\n  duration: PropTypes.string\n}\n\nexport default Video\n","import React from 'react'\nimport Video from './Video'\nimport '../css/VideoList.css'\nimport { observer } from 'mobx-react'\nimport { videoList, isLoading } from '../store/VideoStore'\nimport { i18n, LocaleContext } from '../i18n/i18n'\n\nconst VideoList = observer(class VideoList extends React.Component {\n\n  addCommmaToDigit (count) {\n    if (count == null) {\n      return '0'\n    }\n    var result = ''\n    var digit = 0\n    for (var i = count.length - 1; i >= 0; i--) {\n      if (digit % 3 === 0 && i !== count.length - 1) {\n        result = ',' + result\n      }\n      result = count[i] + result\n      digit += 1\n    }\n    return result\n  }\n\n  convertDateToDaysAgo (date) {\n    date = new Date(date)\n    const today = new Date()\n    var diff = (Date.UTC(today.getFullYear(), today.getMonth(), today.getDate(), today.getHours()) - Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours())) / (1000 * 60 * 60 * 24)\n    if (diff < 1) {\n      diff = Math.round(diff * 24)\n      if (diff <= 1) {\n        return i18n(this.context.locale).video.lessThanOneHourAgo\n      }\n      return diff + i18n(this.context.locale).video.hoursAgo\n    }\n    diff = Math.round(diff)\n    if (diff === 1) {\n      return diff + i18n(this.context.locale).video.dayAgo\n    }\n    return diff + i18n(this.context.locale).video.daysAgo\n  }\n\n  convertDuration (duration) {\n    var result = '00:00:00'\n    var tmp = ''\n    var ind = 0\n    for (var i = duration.length - 1; i > 0; i--) {\n      if (duration[i] === 'S' || duration[i] === 'M' || duration[i] === 'H') {\n        if (i !== duration.length - 1) {\n          if (tmp.length < 2) {\n            tmp += '0'\n          }\n          result = result.substring(0, ind) + tmp + result.substring(ind + 2)\n        }\n        if (duration[i] === 'S') {\n          ind = 0\n        } else if (duration[i] === 'M') {\n          ind = 3\n        } else if (duration[i] === 'H') {\n          ind = 6\n        }\n        tmp = ''\n        continue\n      } else if (duration[i] === 'T') {\n        if (tmp.length < 2) {\n          tmp += '0'\n        }\n        result = result.substring(0, ind) + tmp + result.substring(ind + 2)\n      }\n      tmp += duration[i]\n    }\n    result = result.split('').reverse().join('')\n    while (result[0] === '0' || result[0] === ':') {\n      result = result.substring(1)\n    }\n    if (result.length <= 2) {\n      result = result + 's'\n    }\n    return result\n  }\n\n  pickThumbnail (video) {\n    var thumbnailUrl = video.default.url\n    if (video.maxres && video.maxres.url) {\n      thumbnailUrl = video.maxres.url\n    } else if (video.high.url && video.high.url) {\n      thumbnailUrl = video.high.url\n    } else if (video.standard && video.standard.url) {\n      thumbnailUrl = video.standard.url\n    } else if (video.medium && video.medium.url) {\n      thumbnailUrl = video.medium.url\n    }\n    return thumbnailUrl\n  }\n\n  render () {\n    if (isLoading.get()) {\n      return <div id='loader'/>\n    }\n    return (\n      <div id='videoList'>\n        {videoList.get().map((video, index) => {\n          const rank = index + 1\n          const videoProps = {\n            key: index,\n            title: video.snippet.title.trim(),\n            rank: rank,\n            viewCount: this.addCommmaToDigit(video.statistics.viewCount),\n            likeCount: this.addCommmaToDigit(video.statistics.likeCount),\n            publishedAt: this.convertDateToDaysAgo(video.snippet.publishedAt),\n            thumbnail: this.pickThumbnail(video.snippet.thumbnails),\n            channelTitle: video.snippet.channelTitle,\n            videoLink: 'https://www.youtube.com/watch?v=' + video.id,\n            channelLink: 'https://www.youtube.com/channel/' + video.snippet.channelId,\n            duration: this.convertDuration(video.contentDetails.duration)\n          }\n          return <Video {...videoProps}/>\n        })}\n      </div>\n    )\n  }\n})\n\nVideoList.contextType = LocaleContext\n\nexport default VideoList\n","import React from 'react'\nimport '../css/App.css'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Form from './Form'\nimport { Router } from 'react-router'\nimport VideoList from './VideoList'\nimport { i18n, LocaleContext } from '../i18n/i18n'\nimport { createBrowserHistory } from 'history'\n\nclass App extends React.Component {\n\n  constructor (props) {\n    super(props)\n    this.history = createBrowserHistory()\n    this.state = {\n      locale: 'en_us',\n      updateLocale: (localeCode) => {\n        this.setState({\n          locale: localeCode\n        })\n      }\n    }\n  }\n\n  render () {\n    return (\n      <LocaleContext.Provider value={this.state}>\n        <Header/>\n        <div className=\"App\">\n          <Router history={this.history}>\n            <Form/>\n          </Router>\n          <VideoList/>\n        </div>\n        <Footer/>\n      </LocaleContext.Provider>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './css/index.css'\nimport App from './component/App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()"],"sourceRoot":""}